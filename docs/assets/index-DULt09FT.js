import{j as e,V as B,Z as q,E as J,G as O,T as $,I as k,C as U,m as x,S as H,a as F,L as P,P as E,U as z,b as Z,c as K,d as Q,D as W,e as X,f as M,R as A,F as Y,A as ee,g as te}from"./ui-CXacH9Wz.js";import{a as re,r as y,R as se}from"./vendor-CIP6LD3P.js";import{a as ae,c as ie,F as oe}from"./utils-14Oot4cJ.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var S={},L=re;S.createRoot=L.createRoot,S.hydrateRoot=L.hydrateRoot;const ne=()=>e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-2 rounded-lg",children:e.jsx(B,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Video Creator"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Powered by AI"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Live"})]}),e.jsxs("a",{href:"https://ai-video-creator-irf1.onrender.com/docs",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-3 py-1.5 text-sm text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-md transition-colors",children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{children:"API Docs"}),e.jsx(J,{className:"h-3 w-3"})]}),e.jsxs("a",{href:"https://github.com/djyalu/ai_video_creator",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 px-3 py-1.5 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{children:"GitHub"}),e.jsx(J,{className:"h-3 w-3"})]})]})]})})}),le=({activeTab:t,onTabChange:i,jobCount:r=0})=>{const o=[{id:"text-to-video",name:"Text to Video",icon:$,description:"Generate videos from text prompts"},{id:"image-to-video",name:"Image to Video",icon:k,description:"Animate images with AI"},{id:"job-status",name:"Job Status",icon:U,description:"Track your video generation progress",badge:r>0?r:void 0}];return e.jsx("nav",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:o.map(s=>{const a=s.icon,l=t===s.id;return e.jsxs("button",{onClick:()=>i(s.id),className:`
                  flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
                  ${l?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx("span",{children:s.name}),s.badge&&e.jsx("span",{className:"ml-2 bg-primary-100 text-primary-600 py-0.5 px-2 rounded-full text-xs font-medium",children:s.badge})]},s.id)})})})})},ce="https://ai-video-creator-irf1.onrender.com",h=ae.create({baseURL:ce,timeout:3e4,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(t=>{var i;return console.log(`[API] ${(i=t.method)==null?void 0:i.toUpperCase()} ${t.url}`),t},t=>Promise.reject(t));h.interceptors.response.use(t=>t,t=>{var i,r;if((r=(i=t.response)==null?void 0:i.data)!=null&&r.detail){const o={detail:t.response.data.detail,error_code:t.response.data.error_code,timestamp:Date.now()};return Promise.reject(o)}return Promise.reject({detail:t.message||"An unexpected error occurred",timestamp:Date.now()})});class j{static async checkHealth(){return(await h.get("/health")).data}static async ping(){return(await h.get("/ping")).data}static async generateVideoFromText(i){return(await h.post("/api/v1/video/generate/text",i)).data}static async generateVideoFromImage(i,r){const o=new FormData;return o.append("image",r),Object.entries(i).forEach(([a,l])=>{l!=null&&o.append(a,l.toString())}),(await h.post("/api/v1/video/generate/image",o,{headers:{"Content-Type":"multipart/form-data"}})).data}static async getJobStatus(i){return(await h.get(`/api/v1/status/jobs/${i}`)).data}static async getUserJobs(i){return(await h.get(`/api/v1/status/user/${i}/jobs`)).data}static async cancelJob(i){return(await h.post(`/api/v1/status/jobs/${i}/cancel`)).data}static async downloadVideo(i){return(await h.get(i,{responseType:"blob"})).data}}const D={prompt:"",duration:5,aspect_ratio:"16:9",style:"realistic",quality:"high"},V={prompt:"",duration:5,motion_intensity:"medium",camera_movement:"none",image:null},de=()=>`demo_user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,f=new Map,C=ie((t,i)=>({jobs:[],activeJobs:[],currentUser:de(),isLoading:!1,error:null,textForm:{...D},imageForm:{...V},setTextForm:r=>t(o=>({textForm:{...o.textForm,...r}})),resetTextForm:()=>t({textForm:{...D}}),setImageForm:r=>t(o=>({imageForm:{...o.imageForm,...r}})),resetImageForm:()=>t({imageForm:{...V}}),setCurrentUser:r=>t({currentUser:r}),setLoading:r=>t({isLoading:r}),setError:r=>t({error:r}),generateTextToVideo:async()=>{const{textForm:r,currentUser:o,addJob:s}=i();try{t({isLoading:!0,error:null});const a=await j.generateVideoFromText({...r,user_id:o}),l={id:a.job_id,user_id:o,status:"pending",input_type:"text",input_data:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return s(l),i().startJobPolling(a.job_id),a.job_id}catch(a){return t({error:a.detail||"Failed to generate video"}),null}finally{t({isLoading:!1})}},generateImageToVideo:async()=>{const{imageForm:r,currentUser:o,addJob:s}=i();if(!r.image)return t({error:"Please select an image file"}),null;try{t({isLoading:!0,error:null});const{image:a,...l}=r,c=await j.generateVideoFromImage({...l,user_id:o},a),u={id:c.job_id,user_id:o,status:"pending",input_type:"image",input_data:{...l,image_name:a.name},created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return s(u),i().startJobPolling(c.job_id),c.job_id}catch(a){return t({error:a.detail||"Failed to generate video"}),null}finally{t({isLoading:!1})}},refreshJobStatus:async r=>{try{const o=await j.getJobStatus(r);i().updateJob(r,o),(o.status==="completed"||o.status==="failed")&&i().stopJobPolling(r)}catch(o){console.error("Failed to refresh job status:",o)}},loadUserJobs:async()=>{const{currentUser:r}=i();try{t({isLoading:!0,error:null});const o=await j.getUserJobs(r);t({jobs:o})}catch(o){t({error:o.detail||"Failed to load jobs"})}finally{t({isLoading:!1})}},startJobPolling:r=>{f.has(r)&&clearInterval(f.get(r));const o=window.setInterval(()=>{i().refreshJobStatus(r)},5e3);f.set(r,o)},stopJobPolling:r=>{f.has(r)&&(window.clearInterval(f.get(r)),f.delete(r))},addJob:r=>t(o=>({jobs:[r,...o.jobs],activeJobs:r.status==="pending"||r.status==="in_progress"?[r,...o.activeJobs]:o.activeJobs})),updateJob:(r,o)=>t(s=>({jobs:s.jobs.map(a=>a.id===r?{...a,...o}:a),activeJobs:s.activeJobs.map(a=>a.id===r?{...a,...o}:a).filter(a=>a.status==="pending"||a.status==="in_progress")}))})),R=()=>{const{textForm:t,setTextForm:i,resetTextForm:r,generateTextToVideo:o,isLoading:s,error:a}=C(),[l,c]=y.useState(null),u=async d=>{if(d.preventDefault(),c(null),!t.prompt.trim()){c("Please enter a prompt for your video");return}if(t.prompt.length<10){c("Please provide a more detailed prompt (at least 10 characters)");return}try{const m=await o();m&&console.log("Video generation started:",m)}catch{c("Failed to start video generation. Please try again.")}},g=()=>{r(),c(null)},b=l||a;return e.jsx("div",{className:"max-w-2xl mx-auto p-6",children:e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(H,{className:"h-8 w-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Text to Video"})]}),e.jsx("p",{className:"text-gray-600",children:"Describe your vision and let AI create a stunning video for you"})]}),b&&e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg flex items-center space-x-3",children:[e.jsx(F,{className:"h-5 w-5 text-error-600 flex-shrink-0"}),e.jsx("p",{className:"text-error-700 text-sm",children:b})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Prompt *"}),e.jsx("textarea",{id:"prompt",value:t.prompt,onChange:d=>i({prompt:d.target.value}),placeholder:"Describe the video you want to create... e.g., 'A serene sunset over calm ocean waters with gentle waves and seabirds flying in the distance'",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none transition-colors",rows:4,disabled:s,maxLength:1e3}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Be specific and descriptive for better results"}),e.jsxs("p",{className:"text-xs text-gray-400",children:[t.prompt.length,"/1000"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (seconds)"}),e.jsxs("select",{id:"duration",value:t.duration,onChange:d=>i({duration:Number(d.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:3,children:"3 seconds"}),e.jsx("option",{value:5,children:"5 seconds"}),e.jsx("option",{value:8,children:"8 seconds"}),e.jsx("option",{value:10,children:"10 seconds"}),e.jsx("option",{value:15,children:"15 seconds"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"aspect_ratio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Aspect Ratio"}),e.jsxs("select",{id:"aspect_ratio",value:t.aspect_ratio,onChange:d=>i({aspect_ratio:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:"16:9",children:"16:9 (Landscape)"}),e.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),e.jsx("option",{value:"1:1",children:"1:1 (Square)"}),e.jsx("option",{value:"4:3",children:"4:3 (Classic)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"style",className:"block text-sm font-medium text-gray-700 mb-2",children:"Style"}),e.jsxs("select",{id:"style",value:t.style,onChange:d=>i({style:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:"realistic",children:"Realistic"}),e.jsx("option",{value:"cinematic",children:"Cinematic"}),e.jsx("option",{value:"anime",children:"Anime"}),e.jsx("option",{value:"cartoon",children:"Cartoon"}),e.jsx("option",{value:"artistic",children:"Artistic"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"quality",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality"}),e.jsxs("select",{id:"quality",value:t.quality,onChange:d=>i({quality:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:"standard",children:"Standard"}),e.jsx("option",{value:"high",children:"High Quality"}),e.jsx("option",{value:"premium",children:"Premium"})]})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:s||!t.prompt.trim(),className:`
                flex-1 flex items-center justify-center space-x-2 py-3 px-6 rounded-lg font-medium transition-all
                ${s||!t.prompt.trim()?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 hover:shadow-lg transform hover:scale-[1.02]"}
              `,children:s?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Generating Video..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{children:"Generate Video"})]})}),e.jsx("button",{type:"button",onClick:g,disabled:s,className:"px-6 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg font-medium transition-colors disabled:opacity-50",children:"Reset"})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ðŸ’¡ Pro Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Be specific about what you want to see in the video"}),e.jsx("li",{children:"â€¢ Include details about lighting, camera angles, and movement"}),e.jsx("li",{children:"â€¢ Mention the setting, time of day, and atmosphere"}),e.jsx("li",{children:"â€¢ For better results, describe actions and emotions"})]})]})]})})},me=()=>{const{imageForm:t,setImageForm:i,resetImageForm:r,generateImageToVideo:o,isLoading:s,error:a}=C(),[l,c]=y.useState(null),[u,g]=y.useState(null),b=async p=>{if(p.preventDefault(),c(null),!t.prompt.trim()){c("Please enter a prompt describing the motion you want");return}if(!t.image){c("Please upload an image to animate");return}if(t.prompt.length<5){c("Please provide a more detailed motion description (at least 5 characters)");return}try{const w=await o();w&&(console.log("Image-to-video generation started:",w),d())}catch{c("Failed to start video generation. Please try again.")}},d=()=>{r(),c(null),g(null)},m=l||a;return e.jsx("div",{className:"max-w-2xl mx-auto p-6",children:e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(k,{className:"h-8 w-8 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Image to Video"})]}),e.jsx("p",{className:"text-gray-600",children:"Upload an image and describe the motion you want to add"})]}),m&&e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg flex items-center space-x-3",children:[e.jsx(F,{className:"h-5 w-5 text-error-600 flex-shrink-0"}),e.jsx("p",{className:"text-error-700 text-sm",children:m})]}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Image *"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary-400 transition-colors",children:[e.jsx(z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop an image here, or click to select"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Supports JPG, PNG, WEBP, GIF up to 10MB"}),e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.webp,.gif",className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"mt-4 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose File"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"motion-prompt",className:"block text-sm font-medium text-gray-700 mb-2",children:"Motion Description *"}),e.jsx("textarea",{id:"motion-prompt",value:t.prompt,onChange:p=>i({prompt:p.target.value}),placeholder:"Describe the motion you want to add... e.g., 'Gentle wind blowing through the trees, leaves rustling softly'",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none transition-colors",rows:3,disabled:s,maxLength:500}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Describe the motion, not the scene"}),e.jsxs("p",{className:"text-xs text-gray-400",children:[t.prompt.length,"/500"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (seconds)"}),e.jsxs("select",{id:"duration",value:t.duration,onChange:p=>i({duration:Number(p.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:3,children:"3 seconds"}),e.jsx("option",{value:5,children:"5 seconds"}),e.jsx("option",{value:8,children:"8 seconds"}),e.jsx("option",{value:10,children:"10 seconds"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"motion_intensity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Motion Intensity"}),e.jsxs("select",{id:"motion_intensity",value:t.motion_intensity,onChange:p=>i({motion_intensity:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:"subtle",children:"Subtle"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"strong",children:"Strong"}),e.jsx("option",{value:"dramatic",children:"Dramatic"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"camera_movement",className:"block text-sm font-medium text-gray-700 mb-2",children:"Camera Movement"}),e.jsxs("select",{id:"camera_movement",value:t.camera_movement,onChange:p=>i({camera_movement:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:s,children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"subtle_zoom",children:"Subtle Zoom"}),e.jsx("option",{value:"pan_left",children:"Pan Left"}),e.jsx("option",{value:"pan_right",children:"Pan Right"}),e.jsx("option",{value:"tilt_up",children:"Tilt Up"}),e.jsx("option",{value:"tilt_down",children:"Tilt Down"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"submit",disabled:s||!t.prompt.trim()||!t.image,className:`
                flex-1 flex items-center justify-center space-x-2 py-3 px-6 rounded-lg font-medium transition-all
                ${s||!t.prompt.trim()||!t.image?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700 hover:shadow-lg transform hover:scale-[1.02]"}
              `,children:s?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Animating Image..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"h-5 w-5"}),e.jsx("span",{children:"Animate Image"})]})}),e.jsx("button",{type:"button",onClick:d,disabled:s,className:"px-6 py-3 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg font-medium transition-colors disabled:opacity-50",children:"Reset"})]})]}),e.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"ðŸ’¡ Animation Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Focus on describing motion, not the scene content"}),e.jsx("li",{children:"â€¢ Use natural movement descriptions (flowing, swaying, floating)"}),e.jsx("li",{children:"â€¢ Consider the physics of your scene (wind, gravity, momentum)"}),e.jsx("li",{children:"â€¢ Start with subtle motion and experiment with intensity"})]})]})]})})},xe=({job:t,onDownload:i,onPreview:r})=>{var d;const s=(m=>{switch(m){case"pending":return{icon:U,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",text:"Pending"};case"in_progress":return{icon:P,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",text:"Generating",animate:!0};case"completed":return{icon:M,color:"text-success-600",bgColor:"bg-success-50",borderColor:"border-success-200",text:"Completed"};case"failed":return{icon:X,color:"text-error-600",bgColor:"bg-error-50",borderColor:"border-error-200",text:"Failed"}}})(t.status),a=s.icon,l=m=>new Date(m).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=m=>m?m<60?`${Math.round(m)}s`:`${Math.floor(m/60)}m ${Math.round(m%60)}s`:"N/A",g=(m=>m==="text"?{icon:$,label:"Text to Video",color:"text-purple-600"}:{icon:k,label:"Image to Video",color:"text-blue-600"})(t.input_type),b=g.icon;return e.jsxs(x.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`
        p-6 rounded-lg border-2 transition-all hover:shadow-lg
        ${s.bgColor} ${s.borderColor}
      `,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.bgColor}`,children:e.jsx(a,{className:`h-5 w-5 ${s.color} ${s.animate?"animate-spin":""}`})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(b,{className:`h-4 w-4 ${g.color}`}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:g.label})]}),e.jsx("p",{className:`text-sm font-medium ${s.color}`,children:s.text})]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",t.id.slice(0,8),"..."]})]}),e.jsx("div",{className:"mb-4",children:t.input_type==="text"?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Prompt:"}),e.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:t.input_data.prompt||"No prompt available"})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Motion Description:"}),e.jsx("p",{className:"text-sm text-gray-900 line-clamp-2",children:t.input_data.prompt||"No description available"}),t.input_data.image_name&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Image: ",t.input_data.image_name]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Z,{className:"h-3 w-3"}),e.jsxs("span",{children:["Duration: ",t.input_data.duration||"N/A","s"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(K,{className:"h-3 w-3"}),e.jsxs("span",{children:["Created: ",l(t.created_at)]})]})]}),t.status==="failed"&&t.error_message&&e.jsx("div",{className:"mb-4 p-3 bg-error-50 border border-error-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-error-800",children:[e.jsx("span",{className:"font-medium",children:"Error:"})," ",t.error_message]})}),t.status==="in_progress"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Processing..."}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Started ",l(t.updated_at)]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse-slow",style:{width:"60%"}})})]}),t.status==="completed"&&e.jsx("div",{className:"mb-4 text-xs text-gray-600",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Completed: ",t.completed_at?l(t.completed_at):"N/A"]}),e.jsxs("span",{children:["Processing time: ",c(t.processing_time)]})]})}),t.status==="completed"&&((d=t.output_data)==null?void 0:d.video_url)&&e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:()=>r==null?void 0:r(t),className:"flex-1 flex items-center justify-center space-x-2 py-2 px-4 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-colors",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{children:"Preview"})]}),e.jsxs("button",{onClick:()=>i==null?void 0:i(t),className:"flex-1 flex items-center justify-center space-x-2 py-2 px-4 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors",children:[e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{children:"Download"})]})]})]})},pe=()=>{const{jobs:t,currentUser:i,loadUserJobs:r,isLoading:o,error:s}=C(),[a,l]=y.useState("all"),[c,u]=y.useState(!1);y.useEffect(()=>{r()},[r]);const g=async()=>{u(!0);try{await r()}finally{u(!1)}},b=async n=>{var v;if((v=n.output_data)!=null&&v.video_url)try{const I=await j.downloadVideo(n.output_data.video_url),T=window.URL.createObjectURL(I),N=document.createElement("a");N.href=T,N.download=`video_${n.id}.mp4`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(T),document.body.removeChild(N)}catch(I){console.error("Failed to download video:",I)}},d=n=>{var v;(v=n.output_data)!=null&&v.video_url&&window.open(n.output_data.video_url,"_blank")},p=(()=>{switch(a){case"active":return t.filter(n=>n.status==="pending"||n.status==="in_progress");case"completed":return t.filter(n=>n.status==="completed");case"failed":return t.filter(n=>n.status==="failed");default:return t}})(),_={all:t.length,active:t.filter(n=>n.status==="pending"||n.status==="in_progress").length,completed:t.filter(n=>n.status==="completed").length,failed:t.filter(n=>n.status==="failed").length},G=[{id:"all",label:"All Jobs",count:_.all},{id:"active",label:"Active",count:_.active},{id:"completed",label:"Completed",count:_.completed},{id:"failed",label:"Failed",count:_.failed}];return e.jsx("div",{className:"max-w-4xl mx-auto p-6",children:e.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Video Generation Jobs"}),e.jsx("p",{className:"text-gray-600",children:"Track the progress of your video generation requests"})]}),e.jsxs("button",{onClick:g,disabled:o||c,className:`
              flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-all
              ${o||c?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400"}
            `,children:[e.jsx(A,{className:`h-4 w-4 ${o||c?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]}),s&&e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg flex items-center space-x-3",children:[e.jsx(F,{className:"h-5 w-5 text-error-600 flex-shrink-0"}),e.jsx("p",{className:"text-error-700 text-sm",children:s})]}),e.jsxs("div",{className:"flex items-center space-x-1 mb-6 overflow-x-auto",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-500 flex-shrink-0 mr-2"}),G.map(n=>e.jsxs("button",{onClick:()=>l(n.id),className:`
                flex items-center space-x-2 px-4 py-2 rounded-lg font-medium text-sm transition-colors whitespace-nowrap
                ${a===n.id?"bg-primary-100 text-primary-700 border border-primary-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}
              `,children:[e.jsx("span",{children:n.label}),n.count>0&&e.jsx("span",{className:`
                  px-2 py-0.5 rounded-full text-xs font-medium
                  ${a===n.id?"bg-primary-200 text-primary-800":"bg-gray-200 text-gray-600"}
                `,children:n.count})]},n.id))]}),e.jsxs("div",{className:"mb-6 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Current Session ID:"})," ",i]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Jobs are tracked for this session. Bookmark this page to return to your jobs later."})]}),e.jsx(ee,{mode:"wait",children:o&&t.length===0?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[e.jsx(A,{className:"h-8 w-8 text-gray-400 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your jobs..."})]}):p.length===0?e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-12",children:[e.jsx(te,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:a==="all"?"No jobs yet":`No ${a} jobs`}),e.jsx("p",{className:"text-gray-600 mb-4",children:a==="all"?"Start by creating your first video using the generation tabs above.":`You don't have any ${a} jobs at the moment.`}),a!=="all"&&e.jsx("button",{onClick:()=>l("all"),className:"text-primary-600 hover:text-primary-700 font-medium",children:"View all jobs"})]}):e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:p.map(n=>e.jsx(xe,{job:n,onDownload:b,onPreview:d},n.id))})})]})})},ue=()=>{const[t,i]=y.useState("text-to-video"),[r,o]=y.useState("checking"),{jobs:s}=C();y.useEffect(()=>{(async()=>{try{await j.ping(),o("healthy")}catch(u){console.error("Backend health check failed:",u),o("unhealthy")}})()},[]);const a=()=>{switch(t){case"text-to-video":return e.jsx(R,{});case"image-to-video":return e.jsx(me,{});case"job-status":return e.jsx(pe,{});default:return e.jsx(R,{})}},l=()=>s.filter(c=>c.status==="pending"||c.status==="in_progress").length;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(oe,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}}),e.jsx(ne,{}),r==="unhealthy"&&e.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-error-500 text-white px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(F,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Backend service is currently unavailable. Some features may not work properly."})]})}),r==="healthy"&&e.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-success-500 text-white px-4 py-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(M,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"ðŸŽ¬ AI Video Creator is online and ready to generate amazing videos!"})]})}),e.jsx(le,{activeTab:t,onTabChange:i,jobCount:l()}),e.jsx("main",{className:"py-8",children:e.jsx(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:a()},t)}),e.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("p",{children:"Â© 2024 AI Video Creator. Powered by Google AI Studio & Kling AI."})}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-600",children:[e.jsx("a",{href:"https://djyalu.github.io/ai_video_creator",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 transition-colors",children:"Documentation"}),e.jsx("a",{href:"https://ai-video-creator-irf1.onrender.com/docs",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 transition-colors",children:"API Reference"}),e.jsx("a",{href:"https://github.com/djyalu/ai_video_creator",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary-600 transition-colors",children:"Source Code"})]})]})})})]})};S.createRoot(document.getElementById("root")).render(e.jsx(se.StrictMode,{children:e.jsx(ue,{})}));
//# sourceMappingURL=index-DULt09FT.js.map
